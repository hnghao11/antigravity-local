"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProductTreeViewService = void 0;
class ProductTreeViewService {
    constructor(treeView, productIssueTreeProvider, languageServer, lsScanProduct) {
        this.treeView = treeView;
        this.productIssueTreeProvider = productIssueTreeProvider;
        this.languageServer = languageServer;
        this.lsScanProduct = lsScanProduct;
        this.lsShowIssueDetailSubscription = this.subscribeToShowIssueDetailMessages();
    }
    dispose() {
        this.lsShowIssueDetailSubscription.unsubscribe();
    }
    subscribeToShowIssueDetailMessages() {
        return this.languageServer.showIssueDetailTopic$.subscribe(params => {
            if (params.product !== this.lsScanProduct) {
                return;
            }
            void this.productIssueTreeProvider.revealIssueById(this.treeView, params.issueId);
        });
    }
}
exports.ProductTreeViewService = ProductTreeViewService;
//# sourceMappingURL=productTreeViewService.js.map