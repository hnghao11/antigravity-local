"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LearnService = void 0;
const commands_1 = require("../constants/commands");
class LearnService {
    constructor(commandExecutor) {
        this.commandExecutor = commandExecutor;
    }
    async getCodeLesson(issue) {
        var _a;
        const ruleSplit = issue.additionalData.ruleId.split('/');
        const rule = ruleSplit[ruleSplit.length - 1];
        const ecosystem = ruleSplit[0];
        const additionalData = issue.additionalData;
        let cwe = '';
        if ((_a = additionalData === null || additionalData === void 0 ? void 0 : additionalData.cwe) === null || _a === void 0 ? void 0 : _a.length) {
            cwe = additionalData.cwe[0];
        }
        return this.commandExecutor.executeCommand(commands_1.SNYK_GET_LESSON_COMMAND, rule, ecosystem, cwe, '', 2);
    }
}
exports.LearnService = LearnService;
//# sourceMappingURL=learnService.js.map