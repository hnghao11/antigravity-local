"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AnalyticsEvent = void 0;
class AnalyticsEvent {
    constructor(deviceId, interactionType, category, status = 'success', targetId = 'pkg:filesystem/scrubbed', timestampMs = Date.now(), durationMs = 0, results = new Map(), errors = [], extension = new Map()) {
        this.interactionType = interactionType;
        this.category = category;
        this.status = status !== null && status !== void 0 ? status : 'success';
        this.targetId = targetId !== null && targetId !== void 0 ? targetId : 'pkg:filesystem/scrubbed';
        this.timestampMs = timestampMs !== null && timestampMs !== void 0 ? timestampMs : Date.now();
        this.durationMs = durationMs !== null && durationMs !== void 0 ? durationMs : 0;
        this.results = results !== null && results !== void 0 ? results : new Map();
        this.errors = errors !== null && errors !== void 0 ? errors : [];
        this.extension = extension !== null && extension !== void 0 ? extension : new Map();
        if (deviceId && deviceId.length > 0) {
            this.extension.set('device_id', deviceId);
        }
    }
    getInteractionType() {
        return this.interactionType;
    }
    getCategory() {
        return this.category;
    }
    getStatus() {
        return this.status;
    }
    getTargetId() {
        return this.targetId;
    }
    getTimestampMs() {
        return this.timestampMs;
    }
    getDurationMs() {
        return this.durationMs;
    }
    getResults() {
        return this.results;
    }
    getErrors() {
        return this.errors;
    }
    getExtension() {
        return this.extension;
    }
    toJSON() {
        return {
            interactionType: this.interactionType,
            category: this.category,
            status: this.status,
            targetId: this.targetId,
            timestampMs: this.timestampMs,
            durationMs: this.durationMs,
            results: Object.fromEntries(this.results),
            errors: this.errors,
            extension: Object.fromEntries(this.extension),
        };
    }
}
exports.AnalyticsEvent = AnalyticsEvent;
//# sourceMappingURL=AnalyticsEvent.js.map