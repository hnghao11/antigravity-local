2026-01-12T15:50:24.839Z DEBUG [AGQ][Extension] ============================================================
2026-01-12T15:50:24.839Z DEBUG [AGQ][Extension] Antigravity Quota Activating
2026-01-12T15:50:24.839Z DEBUG [AGQ][Extension] ============================================================
2026-01-12T15:50:24.839Z INFO  [AGQ][Extension] VS Code Version: 1.104.0
2026-01-12T15:50:24.839Z INFO  [AGQ][Extension] Extension activating at: 2026-01-12T15:50:24.839Z
2026-01-12T15:50:24.840Z DEBUG [AGQ][ProcessFinder] Initializing ProcessFinder for platform: win32, arch: x64
2026-01-12T15:50:24.840Z INFO  [AGQ][ProcessFinder] Target process name: language_server_windows_x64.exe
2026-01-12T15:50:24.840Z DEBUG [AGQ][Extension] Initial config: {
  "enabled": true,
  "polling_interval": 120000,
  "show_prompt_credits": false
}
2026-01-12T15:50:24.841Z DEBUG [AGQ][Extension] Starting async initialization...
2026-01-12T15:50:24.841Z DEBUG [AGQ][Extension] ============================================================
2026-01-12T15:50:24.841Z DEBUG [AGQ][Extension] Initializing Extension
2026-01-12T15:50:24.841Z DEBUG [AGQ][Extension] ============================================================
2026-01-12T15:50:24.841Z DEBUG [AGQ][PERF] Timer started: initialize_extension
2026-01-12T15:50:24.842Z INFO  [AGQ][Extension] Detecting Antigravity process...
2026-01-12T15:50:24.842Z DEBUG [AGQ][ProcessFinder] ============================================================
2026-01-12T15:50:24.842Z DEBUG [AGQ][ProcessFinder] Starting process detection (max_retries: 1)
2026-01-12T15:50:24.842Z DEBUG [AGQ][ProcessFinder] ============================================================
2026-01-12T15:50:24.842Z DEBUG [AGQ][PERF] Timer started: detect_process_info
2026-01-12T15:50:24.842Z DEBUG [AGQ][ProcessFinder] Attempt 1/1
2026-01-12T15:50:24.842Z DEBUG [AGQ][ProcessFinder] Executing process list command:
powershell -NoProfile -Command "Get-CimInstance Win32_Process -Filter \"name='language_server_windows_x64.exe'\" | Select-Object ProcessId,CommandLine | ConvertTo-Json"
2026-01-12T15:50:24.863Z INFO  [AGQ][Extension] Extension activation complete
2026-01-12T15:50:27.414Z DEBUG [AGQ][ProcessFinder] Raw stdout (969 chars):
[
    {
        "ProcessId":  2676,
        "CommandLine":  "c:\\Users\\Admin\\AppData\\Local\\Programs\\Antigravity\\resources\\app\\extensions\\antigravity\\bin\\language_server_windows_x64.exe --enable_lsp --extension_server_port 54294 --csrf_token af7b31aa-cc62-4e8e-bb55-75746f9d4089 --random_port --workspace_id file_d_3A_DuAnRieng_MemMart --cloud_code_endpoint https://daily-cloudcode-pa.googleapis.com --app_data_dir antigravity --parent_pipe_path \\\\.\\pipe\\server_09bfe5b8055e4cb3"
    },
    {
        "ProcessId":  14772,
        "CommandLine":  "c:\\Users\\Admin\\AppData\\Local\\Programs\\Antigravity\\resources\\app\\extensions\\antigravity\\bin\\language_server_windows_x64.exe --enable_lsp --extension_server_port 53616 --csrf_token 1d34207d-1917-4d04-8803-17464e31d8b4 --random_port --cloud_code_endpoint https://daily-cloudcode-pa.googleapis.com --app_data_dir antigravity --parent_pipe_path \\\\.\\pipe\\server_48722e160c279fc9"
    }
]

2026-01-12T15:50:27.424Z DEBUG [AGQ][WindowsStrategy] Parsing process info (using PowerShell: true)
2026-01-12T15:50:27.425Z DEBUG [AGQ][WindowsStrategy] Detected JSON output, parsing...
2026-01-12T15:50:27.426Z DEBUG [AGQ][WindowsStrategy] JSON is an array with 2 element(s)
2026-01-12T15:50:27.426Z DEBUG [AGQ][WindowsStrategy] Process 1/2: PID=2676
2026-01-12T15:50:27.426Z DEBUG [AGQ][WindowsStrategy]   CommandLine: c:\Users\Admin\AppData\Local\Programs\Antigravity\resources\app\extensions\antigravity\bin\language_server_windows_x64.exe --enable_lsp --extension_server_port 54294 --csrf_token af7b31aa-cc62-4e8e-bb...
2026-01-12T15:50:27.426Z DEBUG [AGQ][WindowsStrategy] Process 2/2: PID=14772
2026-01-12T15:50:27.426Z DEBUG [AGQ][WindowsStrategy]   CommandLine: c:\Users\Admin\AppData\Local\Programs\Antigravity\resources\app\extensions\antigravity\bin\language_server_windows_x64.exe --enable_lsp --extension_server_port 53616 --csrf_token 1d34207d-1917-4d04-88...
2026-01-12T15:50:27.427Z DEBUG [AGQ][WindowsStrategy] Process identified as Antigravity (--app_data_dir match)
2026-01-12T15:50:27.427Z DEBUG [AGQ][WindowsStrategy] Process identified as Antigravity (--app_data_dir match)
2026-01-12T15:50:27.427Z INFO  [AGQ][WindowsStrategy] Found 2 language_server process(es), 2 belong to Antigravity
2026-01-12T15:50:27.427Z INFO  [AGQ][WindowsStrategy] Selected Antigravity process PID: 2676 (first match of 2)
2026-01-12T15:50:27.427Z DEBUG [AGQ][WindowsStrategy] Regex matches: extension_port=54294, csrf_token=FOUND
2026-01-12T15:50:27.429Z DEBUG [AGQ][WindowsStrategy] Extracted: PID=2676, extension_port=54294, csrf_token=af7b31aa...
2026-01-12T15:50:27.430Z INFO  [AGQ][ProcessFinder] Process info parsed successfully: {
  "pid": 2676,
  "extension_port": 54294,
  "csrf_token": "af7b31aa..."
}
2026-01-12T15:50:27.433Z DEBUG [AGQ][ProcessFinder] Getting listening ports for PID: 2676
2026-01-12T15:50:27.433Z DEBUG [AGQ][ProcessFinder] Port list command:
powershell -NoProfile -Command "Get-NetTCPConnection -OwningProcess 2676 -State Listen | Select-Object -ExpandProperty LocalPort | ConvertTo-Json"
2026-01-12T15:50:32.107Z DEBUG [AGQ][ProcessFinder] Port list stdout (41 chars):
[
    54307,
    54299,
    54298
]

2026-01-12T15:50:32.107Z DEBUG [AGQ][ProcessFinder] Parsed ports: [54298, 54299, 54307]
2026-01-12T15:50:32.108Z DEBUG [AGQ][ProcessFinder] Found 3 listening port(s): [54298, 54299, 54307]
2026-01-12T15:50:32.108Z DEBUG [AGQ][ProcessFinder] Testing ports to find working endpoint...
2026-01-12T15:50:32.108Z DEBUG [AGQ][ProcessFinder] Testing port 54298...
2026-01-12T15:50:32.108Z DEBUG [AGQ][ProcessFinder] HTTP request to https://127.0.0.1:54298/exa.language_server_pb.LanguageServerService/GetUnleashData
2026-01-12T15:50:32.135Z DEBUG [AGQ][ProcessFinder] Response from port 54298: status=200
2026-01-12T15:50:32.136Z INFO  [AGQ][ProcessFinder] Port 54298 is working
2026-01-12T15:50:32.136Z INFO  [AGQ][ProcessFinder] SUCCESS: Valid port found: 54298
2026-01-12T15:50:32.137Z DEBUG [AGQ][PERF] Timer ended: detect_process_info (7295ms)
2026-01-12T15:50:32.137Z INFO  [AGQ][Extension] Process found successfully {
  "extension_port": 54294,
  "connect_port": 54298,
  "csrf_token": "af7b31aa..."
}
2026-01-12T15:50:32.137Z DEBUG [AGQ][Extension] Starting polling with interval: 120000ms
2026-01-12T15:50:32.139Z INFO  [AGQ][Extension] Initialization successful
2026-01-12T15:50:32.139Z DEBUG [AGQ][PERF] Timer ended: initialize_extension (7298ms)
2026-01-12T15:50:32.161Z DEBUG [AGQ][Extension] Quota update received: {
  "models_count": 7,
  "prompt_credits": {
    "available": 500,
    "monthly": 50000,
    "used_percentage": 99,
    "remaining_percentage": 1
  },
  "timestamp": "2026-01-12T15:50:32.161Z"
}
